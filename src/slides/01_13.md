---
title: Build and Deploy
slide: '<!-- .slide: data-visibility="hidden"-->'
---

<!-- .slide: data-state="layout-title" class="bg-dark"-->

# Building and Deploying your Sites

The typical modern web project has different types of build processes for developing, testing and building applications. You can deploy static sites and Apps using Github, but how would you let Github help you run your processes and deploy sites on their servers?

I'll give you a couple of seconds to pause the video and see how you'd have done something like this.

---

# Solution

Alghough you could write your own Github Action using what you've learned so far, sometimes it pays to look through the Github Markeplace and find an action that does it for you.

My personal site, raybo.org uses an action from James Ives called github-pages-deploy-action that helps you take care of this. Let's take a look at our action code.

```yaml
name: Build and Deploy
on: [push]
```

We start off with giving the action a name and deciding how this action will be triggered. I have a simple push triggering this action, but you could switch it to activate on a pull request or manually.

```yaml
jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
```

Next, we'll specify how this job will run. I'll let this run on ubuntu-latest since it will work well for this project.

```yaml
steps:
  - name: Checkout üõéÔ∏è
    uses: actions/checkout@v2.3.1
```

For our steps, I'm going to start by using the traditional checkout action from Github that will let us use our project.

# Initialize and Build

```
      - name: Install and Build
        run: |
          npm install
          npm run build
```

When this action gets going, it's like we're using a clean linux machine with our project inside it. We'll need to run the processes that will install all the dependencies and also build our application.

The build process is an npm script that runs a series of commands for my site. It runs the project through Sass, the uses the Eleventy static site generator to create a folder called build with the final code that should be uploaded to a server for me.

```yaml
- name: Deploy üöÄ
  uses: JamesIves/github-pages-deploy-action@4.1.0
  with:
    branch: root # The branch the action should deploy to.
    folder: build # The folder the action should deploy.
```

Now we can use the action from the marketplace to deploy our site to Github Pages.

We're asking the action to generate a branch for us. I'm calling mine root, but it can be whatever you want it to be.

This action will use our build folder to generate the site.

If you look at my site, you'll notice that there is an extra branch called root that is generated by this process. This is what is on my build folder, but it is being output to a separate branch and Github Pages can be set up to deploy your site from that branch.

If you look at my [Github Pages settings](https://github.com/planetoftheweb/planetoftheweb.github.io/settings/pages).

you can see that we're using this root branch and the root folder of that branch to deploy our site.

---

# Conclusion

Depoying static sites like this is easy and it generates a separate branch for your deploys. Normally, I might do this by deploying to a docs folder in the root or a github pages branch, but this action makes the whole process much easier. Make sure you explore the Github Marketplace for lots of other cool pre-built actions.

---

# Finished Code

```yaml
name: Build and Deploy
on: [push]
jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout üõéÔ∏è
        uses: actions/checkout@v2.3.1

      - name: Install and Build üîß # This example project is built using npm and outputs the result to the 'build' folder. Replace with the commands required to build your project, or remove this step entirely if your site is pre-built.
        run: |
          npm install
          npm run build
      - name: Deploy üöÄ
        uses: JamesIves/github-pages-deploy-action@4.1.0
        with:
          branch: root # The branch the action should deploy to.
          folder: build # The folder the action should deploy.
```
